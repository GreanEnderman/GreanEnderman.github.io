# GitHub Pages éƒ¨ç½²æŒ‡å—

## æ–¹æ³•ä¸€ï¼šæ‰‹åŠ¨éƒ¨ç½²ï¼ˆæ¨èç”¨äºåˆæ¬¡éƒ¨ç½²ï¼‰

### æ­¥éª¤ 1: æ„å»ºé¡¹ç›®

é¦–å…ˆç¡®ä¿é¡¹ç›®å·²æˆåŠŸæ„å»ºï¼š

```bash
npm run build
```

æ„å»ºæˆåŠŸåï¼Œä¼šåœ¨é¡¹ç›®æ ¹ç›®å½•ç”Ÿæˆ `out/` æ–‡ä»¶å¤¹ï¼Œé‡Œé¢åŒ…å«æ‰€æœ‰é™æ€æ–‡ä»¶ã€‚

### æ­¥éª¤ 2: åˆå§‹åŒ– Git ä»“åº“

å¦‚æœè¿˜æ²¡æœ‰åˆå§‹åŒ– Git ä»“åº“ï¼š

```bash
git init
git add .
git commit -m "Initial commit: Blog with Bento Grid design"
```

### æ­¥éª¤ 3: åˆ›å»º GitHub ä»“åº“

1. ç™»å½• GitHubï¼šhttps://github.com
2. ç‚¹å‡»å³ä¸Šè§’çš„ "+" â†’ "New repository"
3. å¡«å†™ä»“åº“ä¿¡æ¯ï¼š
   - **Repository name**: `blog` æˆ– `username.github.io`ï¼ˆå¦‚æœä½¿ç”¨ç”¨æˆ·/ç»„ç»‡é¡µé¢ï¼‰
   - è®¾ç½®ä¸º **Public**ï¼ˆå…¬å¼€ä»“åº“ï¼ŒGitHub Pages å…è´¹ä½¿ç”¨ï¼‰
   - **ä¸è¦**å‹¾é€‰ "Add a README file"
4. ç‚¹å‡» "Create repository"

### æ­¥éª¤ 4: æ¨é€ä»£ç åˆ° GitHub

åˆ›å»ºä»“åº“åï¼ŒGitHub ä¼šæ˜¾ç¤ºå‘½ä»¤ã€‚å¤åˆ¶å¹¶æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼ˆå°† `YOUR_USERNAME` æ›¿æ¢ä¸ºä½ çš„ GitHub ç”¨æˆ·åï¼‰ï¼š

```bash
git remote add origin https://github.com/YOUR_USERNAME/blog.git
git branch -M main
git push -u origin main
```

### æ­¥éª¤ 5: é…ç½® GitHub Pages

1. è¿›å…¥ä½ çš„ GitHub ä»“åº“é¡µé¢
2. ç‚¹å‡» **Settings**ï¼ˆè®¾ç½®ï¼‰æ ‡ç­¾
3. åœ¨å·¦ä¾§èœå•æ‰¾åˆ° **Pages**
4. åœ¨ **Build and deployment** éƒ¨åˆ†ï¼š
   - **Source**: é€‰æ‹© **GitHub Actions**
   - ç‚¹å‡» **Save**

### æ­¥éª¤ 6: é…ç½® GitHub Actionsï¼ˆè‡ªåŠ¨éƒ¨ç½²ï¼‰

åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `.github/workflows/deploy.yml` æ–‡ä»¶ï¼š

```bash
mkdir -p .github/workflows
```

åˆ›å»ºæ–‡ä»¶ `.github/workflows/deploy.yml`ï¼Œå†…å®¹å¦‚ä¸‹ï¼š

```yaml
name: Deploy to GitHub Pages

on:
  push:
    branches: ["main"]

permissions:
  contents: read
  pages: write
  id-token: write

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: "20"
          cache: "npm"

      - name: Install dependencies
        run: npm ci

      - name: Build
        run: npm run build

      - name: Upload artifact
        uses: actions/upload-pages-artifact@v3
        with:
          path: "./out"

  deploy:
    environment:
      name: github-pages
      url: ${{ steps.deployment.outputs.page_url }}
    runs-on: ubuntu-latest
    needs: build
    steps:
      - name: Deploy to GitHub Pages
        id: deployment
        uses: actions/deploy-pages@v4
```

### æ­¥éª¤ 7: æäº¤å¹¶æ¨é€é…ç½®æ–‡ä»¶

```bash
git add .
git commit -m "Add GitHub Actions workflow for auto-deployment"
git push
```

### æ­¥éª¤ 8: è®¿é—®ä½ çš„åšå®¢

å‡ åˆ†é’Ÿåï¼Œä½ çš„åšå®¢å°†å‘å¸ƒåœ¨ï¼š
```
https://YOUR_USERNAME.github.io/blog/
```

---

## æ–¹æ³•äºŒï¼šä½¿ç”¨è‡ªå®šä¹‰åŸŸåï¼ˆå¯é€‰ï¼‰

å¦‚æœä½ æƒ³ä½¿ç”¨è‡ªå·±çš„åŸŸåï¼ˆå¦‚ `blog.yourdomain.com`ï¼‰ï¼š

### æ­¥éª¤ 1: æ·»åŠ  CNAME æ–‡ä»¶

åœ¨ `public/` ç›®å½•ä¸‹åˆ›å»º `CNAME` æ–‡ä»¶ï¼š

```bash
echo "blog.yourdomain.com" > public/CNAME
```

### æ­¥éª¤ 2: é…ç½® DNS

åœ¨ä½ çš„åŸŸåæä¾›å•†ï¼ˆå¦‚ Cloudflareã€é˜¿é‡Œäº‘ã€GoDaddy ç­‰ï¼‰æ·»åŠ  DNS è®°å½•ï¼š

- **ç±»å‹**: CNAME
- **ä¸»æœºè®°å½•**: blogï¼ˆæˆ– @ï¼‰
- **è®°å½•å€¼**: `YOUR_USERNAME.github.io`
- **TTL**: 600ï¼ˆæˆ–å…¶ä»–å€¼ï¼‰

### æ­¥éª¤ 3: åœ¨ GitHub è®¾ç½®ä¸­æ·»åŠ åŸŸå

1. è¿›å…¥ä»“åº“çš„ **Settings** â†’ **Pages**
2. åœ¨ **Custom domain** ä¸­è¾“å…¥ä½ çš„åŸŸå
3. ç‚¹å‡» **Save**

### æ­¥éª¤ 4: ç­‰å¾… DNS ç”Ÿæ•ˆ

é€šå¸¸éœ€è¦å‡ å°æ—¶åˆ° 48 å°æ—¶ DNS ç”Ÿæ•ˆã€‚

---

## æ–¹æ³•ä¸‰ï¼šé¡¹ç›®é¡µé¢ vs ç”¨æˆ·/ç»„ç»‡é¡µé¢

### ç”¨æˆ·/ç»„ç»‡é¡µé¢ï¼ˆæ¨èï¼‰

- ä»“åº“åå¿…é¡»æ˜¯ï¼š`username.github.io`
- URL: `https://username.github.io/`
- ä¸éœ€è¦å­è·¯å¾„

### é¡¹ç›®é¡µé¢

- ä»“åº“åå¯ä»¥ä»»æ„ï¼šå¦‚ `blog`
- URL: `https://username.github.io/blog/`
- éœ€è¦æ·»åŠ å­è·¯å¾„

---

## å¸¸è§é—®é¢˜è§£å†³

### 1. æ„å»ºå¤±è´¥

**é—®é¢˜**: GitHub Actions æ„å»ºå¤±è´¥

**è§£å†³æ–¹æ¡ˆ**:
- æ£€æŸ¥ `.github/workflows/deploy.yml` æ–‡ä»¶æ˜¯å¦å­˜åœ¨
- ç¡®ä¿ `package.json` ä¸­çš„ `build` è„šæœ¬æ­£ç¡®
- æŸ¥çœ‹ Actions æ ‡ç­¾é¡µçš„é”™è¯¯æ—¥å¿—

### 2. é¡µé¢æ˜¾ç¤º 404

**é—®é¢˜**: è®¿é—® URL æ˜¾ç¤º 404

**è§£å†³æ–¹æ¡ˆ**:
- ç­‰å¾…å‡ åˆ†é’Ÿï¼ˆGitHub Pages éœ€è¦æ—¶é—´éƒ¨ç½²ï¼‰
- æ£€æŸ¥ **Settings** â†’ **Pages** çš„é…ç½®
- ç¡®è®¤ Source è®¾ç½®ä¸º **GitHub Actions**

### 3. æ ·å¼ç¼ºå¤±

**é—®é¢˜**: é¡µé¢æ˜¾ç¤ºä½†æ²¡æœ‰æ ·å¼

**è§£å†³æ–¹æ¡ˆ**:
- ç¡®ä¿ `next.config.mjs` ä¸­æœ‰ `output: 'export'`
- ç¡®ä¿ `images: { unoptimized: true }` å·²é…ç½®
- æ£€æŸ¥ `out/` æ–‡ä»¶å¤¹æ˜¯å¦åŒ…å«æ‰€æœ‰é™æ€èµ„æº

### 4. å›¾ç‰‡ä¸æ˜¾ç¤º

**é—®é¢˜**: ä¸Šä¼ çš„å›¾ç‰‡æ— æ³•æ˜¾ç¤º

**è§£å†³æ–¹æ¡ˆ**:
- å°†å›¾ç‰‡æ”¾åœ¨ `public/` ç›®å½•
- åœ¨ä»£ç ä¸­ä½¿ç”¨ç»å¯¹è·¯å¾„å¼•ç”¨ï¼š`/images/photo.jpg`
- ç¡®ä¿å›¾ç‰‡æ–‡ä»¶åæ˜¯å°å†™ï¼ˆé¿å…æœåŠ¡å™¨å¤§å°å†™æ•æ„Ÿé—®é¢˜ï¼‰

---

## æ›´æ–°åšå®¢å†…å®¹

### æ·»åŠ æ–°æ–‡ç« 

1. åœ¨ `content/posts/` åˆ›å»ºæ–°çš„ `.mdx` æ–‡ä»¶
2. æœ¬åœ°æµ‹è¯•ï¼š`npm run dev`
3. æ„å»ºå¹¶éƒ¨ç½²ï¼š
```bash
npm run build
git add .
git commit -m "Add new post: Post Title"
git push
```

GitHub Actions ä¼šè‡ªåŠ¨æ„å»ºå¹¶éƒ¨ç½²ï¼

### ä¿®æ”¹ç°æœ‰å†…å®¹

1. ç¼–è¾‘æ–‡ä»¶ï¼ˆå¦‚ä¿®æ”¹ç¿»è¯‘ã€ç»„ä»¶ç­‰ï¼‰
2. æœ¬åœ°æµ‹è¯•
3. æäº¤å¹¶æ¨é€ï¼š
```bash
git add .
git commit -m "Update content"
git push
```

---

## æŸ¥çœ‹éƒ¨ç½²çŠ¶æ€

1. è¿›å…¥ä½ çš„ GitHub ä»“åº“
2. ç‚¹å‡» **Actions** æ ‡ç­¾
3. å¯ä»¥çœ‹åˆ°æ¯æ¬¡éƒ¨ç½²çš„è¿›åº¦å’ŒçŠ¶æ€
4. ç»¿è‰² âœ… = æˆåŠŸ
5. çº¢è‰² âŒ = å¤±è´¥ï¼ˆç‚¹å‡»æŸ¥çœ‹æ—¥å¿—ï¼‰

---

## æ€§èƒ½ä¼˜åŒ–å»ºè®®

### 1. å¯ç”¨ Gzip å‹ç¼©

åœ¨ `.github/workflows/deploy.yml` ä¸­æ·»åŠ å‹ç¼©æ­¥éª¤ï¼ˆGitHub Pages è‡ªåŠ¨å¤„ç†ï¼‰

### 2. ä½¿ç”¨ CDN

è€ƒè™‘ä½¿ç”¨ Cloudflare CDN åŠ é€Ÿè®¿é—®ï¼š
- æ³¨å†Œ Cloudflare è´¦å·
- æ·»åŠ ä½ çš„åŸŸå
- ä½¿ç”¨ Cloudflare çš„ DNS

### 3. å›¾ç‰‡ä¼˜åŒ–

- ä½¿ç”¨ WebP æ ¼å¼
- å‹ç¼©å›¾ç‰‡å¤§å°
- ä½¿ç”¨é€‚å½“çš„å›¾ç‰‡å°ºå¯¸

---

## å¤‡ä»½ä¸æ¢å¤

### å¤‡ä»½

å®šæœŸæ¨é€ä»£ç åˆ° GitHubï¼Œè¿™å°±æ˜¯æœ€å¥½çš„å¤‡ä»½ï¼

### æ¢å¤

åœ¨æ–°ç”µè„‘ä¸Šï¼š

```bash
git clone https://github.com/YOUR_USERNAME/blog.git
cd blog
npm install
npm run dev
```

---

## ç¯å¢ƒå˜é‡ï¼ˆå¦‚æœéœ€è¦ï¼‰

å¦‚æœå°†æ¥éœ€è¦ä½¿ç”¨ç¯å¢ƒå˜é‡ï¼š

1. åœ¨ GitHub ä»“åº“è®¾ç½®ä¸­æ·»åŠ ï¼š
   - **Settings** â†’ **Secrets and variables** â†’ **Actions**
   - ç‚¹å‡» **New repository secret**
   - æ·»åŠ å¯†é’¥

2. åœ¨ `deploy.yml` ä¸­ä½¿ç”¨ï¼š

```yaml
- name: Build
  env:
    MY_SECRET: ${{ secrets.MY_SECRET }}
  run: npm run build
```

---

## ç›‘æ§å’Œåˆ†æ

### GitHub Pages ç»Ÿè®¡

GitHub Pages æä¾›åŸºæœ¬çš„è®¿é—®ç»Ÿè®¡ï¼š
- **Settings** â†’ **Pages** â†’ æŸ¥çœ‹è®¿é—®é‡

### æ·»åŠ  Google Analytics

1. æ³¨å†Œ Google Analytics
2. è·å–è·Ÿè¸ª ID
3. åœ¨ `app/layout.tsx` ä¸­æ·»åŠ è„šæœ¬ï¼š

```tsx
export const metadata: Metadata = {
  title: "Blog | Modern Personal Blog",
  description: "A modern personal blog with Bento Grid design",
  other: {
    "google-site-verification": "YOUR_VERIFICATION_CODE",
  },
};
```

---

## å®‰å…¨å»ºè®®

1. **ä¿æŠ¤æ•æ„Ÿä¿¡æ¯**:
   - ä¸è¦åœ¨ä»£ç ä¸­ç¡¬ç¼–ç  API å¯†é’¥
   - ä½¿ç”¨ç¯å¢ƒå˜é‡å’Œ GitHub Secrets

2. **å®šæœŸæ›´æ–°ä¾èµ–**:
   ```bash
   npm audit
   npm update
   ```

3. **å¯ç”¨åˆ†æ”¯ä¿æŠ¤**:
   - **Settings** â†’ **Branches**
   - æ·»åŠ è§„åˆ™ä¿æŠ¤ `main` åˆ†æ”¯

---

## éƒ¨ç½²æ£€æŸ¥æ¸…å•

éƒ¨ç½²å‰æ£€æŸ¥ï¼š

- [ ] `npm run build` æˆåŠŸ
- [ ] `out/` æ–‡ä»¶å¤¹å·²ç”Ÿæˆ
- [ ] `.github/workflows/deploy.yml` å·²åˆ›å»º
- [ ] ä»£ç å·²æäº¤åˆ° Git
- [ ] ä»£ç å·²æ¨é€åˆ° GitHub
- [ ] GitHub Pages è®¾ç½®æ­£ç¡®
- [ ] ç­‰å¾… GitHub Actions å®Œæˆ

---

## å¿«é€Ÿå‘½ä»¤å‚è€ƒ

```bash
# æ„å»ºé¡¹ç›®
npm run build

# æäº¤æ›´æ”¹
git add .
git commit -m "Your message"
git push

# æŸ¥çœ‹çŠ¶æ€
git status

# æŸ¥çœ‹è¿œç¨‹ä»“åº“
git remote -v

# æ¸…é™¤æ„å»ºç¼“å­˜
npm run clean
npm run build
```

---

æ­å–œï¼ä½ çš„åšå®¢ç°åœ¨å·²ç»éƒ¨ç½²åˆ° GitHub Pages äº†ï¼ğŸ‰

æ¯æ¬¡æ¨é€ä»£ç åˆ° `main` åˆ†æ”¯ï¼ŒGitHub Actions ä¼šè‡ªåŠ¨æ„å»ºå¹¶éƒ¨ç½²ä½ çš„åšå®¢ã€‚
